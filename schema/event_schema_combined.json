{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://entscrew.net/schemas/msg_schema.json",
    "type": "object",
    "required": ["msg_id", "status", "msg_intention"],
    "anyOf": [
        {"required": ["event_name", "event_start_date", "event_end_date", "venue_ids", "attendance"]},
        {"required": []}
    ],
    "items": {
        "type": "object",
        "msg_id": {
            "type": "string",
            "description": "An ID for this message which is unique within the system"
        },
        "status": {
            "type": "integer",
            "description": "The status of the message, uses HTTP status codes, 0 value if unset"
        },
        "anyOf": [
            {
                "type": "object",
                "required": ["event_name", "event_start_date", "event_end_date", "venue_ids", "attendance"],
                "properties": {
                    "msg_intention": {
                        "type": "string",
                        "enum": [ "CREATE" ],
                        "description": "The purpose / intention of the message"
                    },
                    "event_name": {
                        "type": "string",
                        "description": "The new human-readable non-unique name of the event"
                    },
                    "event_start_date": {
                        "type": "number",
                        "description": "The new event start_date as a UTC timestamp in seconds since epoch"
                    },
                    "event_end_date": {
                        "type": "number",
                        "description": "The new event end_date as a UTC timestamp in seconds since epoch"
                    },
                    "venue_ids": {
                        "type": "array",
                        "items": {
                            "type": "string",
                            "description": "The new unique venue IDs for all venues this event is occuring in"
                        }
                    },
                    "attendance": {
                        "type": "number",
                        "description": "The new attendance value for the event"
                    }
                }
            },
            {
                "type": "object",
                "required": [],
                "properties": {
                    "msg_intention": {
                        "type": "string",
                        "enum": [ "GET" ],
                        "description": "The purpose / intention of the message"
                    },
                    "event_id": {
                        "type": "string",
                        "description": "The unique ID of the event to fetch"
                    },
                    "event_name": {
                        "type": "string",
                        "description": "The new human-readable non-unique name of the event"
                    },
                    "event_start_date_range_begin": {
                        "type": "number",
                        "description": "The start of the event start_date range to use for querying events (as a UTC timestamp in seconds since epoch)"
                    },
                    "event_start_date_range_end": {
                        "type": "number",
                        "description": "The end of the event start_date range to use for querying events (as a UTC timestamp in seconds since epoch)"
                    },
                    "event_end_date_range_begin": {
                        "type": "number",
                        "description": "The start of the event end_date range to use for querying events (as a UTC timestamp in seconds since epoch)"
                    },
                    "event_end_date_range_end": {
                        "type": "number",
                        "description": "The end of the event end_date range to use for querying events (as a UTC timestamp in seconds since epoch)"
                    },
                    "venue_ids": {
                        "type": "array",
                        "items": {
                            "type": "string",
                            "description": "The unique venue IDs to search for events in"
                        }
                    }
                }
            }
        ]
    }
}